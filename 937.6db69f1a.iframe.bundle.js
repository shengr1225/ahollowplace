"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[937],{15082:function(e,r,a){a(76721),a(96085);var l=a(27378),t=a(74857),n=a(60622),o=a(13839),i=a(74083),s=a(36921),m=function(e){if(e)return e.replace(/T\d{2}\:\d{2}\:\d{2}\.\d{3}\w/,"")};r.Z=function(e){var r,a,u,d,c,b,w,f;return l.createElement("div",{className:"rw-form-wrapper"},l.createElement(t.Form,{onSubmit:function(r){var a,l;r.date=(0,s.Li)(r.date),r.users?r.users=null===(l=r.users)||void 0===l?void 0:l.map((function(e){return{id:parseInt(e)}})):delete r.users,e.onSave(r,null==e||null===(a=e.booking)||void 0===a?void 0:a.id)},error:e.error},l.createElement(t.FormError,{error:e.error,wrapperClassName:"rw-form-error-wrapper",titleClassName:"rw-form-error-title",listClassName:"rw-form-error-list"}),l.createElement(t.Label,{name:"date",className:"rw-label",errorClassName:"rw-label rw-label-error"},"Date"),l.createElement(t.DateField,{name:"date",defaultValue:m(null===(r=e.booking)||void 0===r?void 0:r.date),className:"rw-input",errorClassName:"rw-input rw-input-error",validation:{required:!0}}),l.createElement(t.FieldError,{name:"date",className:"rw-field-error"}),l.createElement(t.Label,{name:"total",className:"rw-label",errorClassName:"rw-label rw-label-error"},"Total"),l.createElement(t.NumberField,{name:"total",defaultValue:null===(a=e.booking)||void 0===a?void 0:a.total,className:"rw-input",errorClassName:"rw-input rw-input-error",validation:{required:!0}}),l.createElement(t.FieldError,{name:"total",className:"rw-field-error"}),l.createElement(t.Label,{name:"male",className:"rw-label",errorClassName:"rw-label rw-label-error"},"Male"),l.createElement(t.NumberField,{name:"male",defaultValue:null===(u=e.booking)||void 0===u?void 0:u.male,className:"rw-input",errorClassName:"rw-input rw-input-error",validation:{required:!0}}),l.createElement(t.FieldError,{name:"male",className:"rw-field-error"}),l.createElement(t.Label,{name:"female",className:"rw-label",errorClassName:"rw-label rw-label-error"},"Female"),l.createElement(t.NumberField,{name:"female",defaultValue:null===(d=e.booking)||void 0===d?void 0:d.female,className:"rw-input",errorClassName:"rw-input rw-input-error",validation:{required:!0}}),l.createElement(t.FieldError,{name:"female",className:"rw-field-error"}),l.createElement(t.Label,{name:"note",className:"rw-label",errorClassName:"rw-label rw-label-error"},"Note"),l.createElement(t.TextField,{name:"note",defaultValue:null===(c=e.booking)||void 0===c?void 0:c.note,className:"rw-input",errorClassName:"rw-input rw-input-error"}),l.createElement(t.FieldError,{name:"note",className:"rw-field-error"}),l.createElement(t.Label,{name:"jubenId",className:"rw-label",errorClassName:"rw-label rw-label-error"},"Juben id"),l.createElement(n.ZP,{selectJubenId:null===(b=e.booking)||void 0===b?void 0:b.jubenId}),l.createElement(t.FieldError,{name:"jubenId",className:"rw-field-error"}),l.createElement(t.Label,{name:"timeSlotId",className:"rw-label",errorClassName:"rw-label rw-label-error"},"Time slot id"),l.createElement(o.ZP,{name:"timeSlotId",selectTimeSlotId:[{id:null===(w=e.booking)||void 0===w?void 0:w.timeSlotId}]}),l.createElement(t.FieldError,{name:"timeSlotId",className:"rw-field-error"}),l.createElement(t.Label,{name:"users",className:"rw-label",errorClassName:"rw-label rw-label-error"}),l.createElement(i.ZP,{data:null==e||null===(f=e.booking)||void 0===f?void 0:f.users,name:"users"}),l.createElement(t.FieldError,{name:"users",className:"rw-field-error"}),l.createElement("div",{className:"rw-button-group"},l.createElement(t.Submit,{disabled:e.loading,className:"rw-button rw-button-blue"},"Save"))))}},37937:function(e,r,a){a.r(r),a.d(r,{default:function(){return v}});var l,t=a(27378),n=(a(95988),a(60740),a(27001)),o=(a(61320),a(56423)),i=a(31786),s=a(81006),m=a(15082),u=a(36921);function d(e,r){(null==r||r>e.length)&&(r=e.length);for(var a=0,l=new Array(r);a<r;a++)l[a]=e[a];return l}var c,b,w=(0,n.ZP)(l||(c=["\n  mutation CreateBookingMutation($input: CreateBookingInput!) {\n    createBooking(input: $input) {\n      id\n    }\n  }\n"],b||(b=c.slice(0)),l=Object.freeze(Object.defineProperties(c,{raw:{value:Object.freeze(b)}})))),f=function(){var e,r,a=(0,i.useMutation)(w,{onCompleted:function(){s.toast.success("Booking created"),(0,o.navigate)(o.routes.bookings())},onError:function(e){s.toast.error(e.message)}}),l=(r=2,function(e){if(Array.isArray(e))return e}(e=a)||function(e,r){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var l,t,n,o,i=[],s=!0,m=!1;try{if(n=(a=a.call(e)).next,0===r){if(Object(a)!==a)return;s=!1}else for(;!(s=(l=n.call(a)).done)&&(i.push(l.value),i.length!==r);s=!0);}catch(e){m=!0,t=e}finally{try{if(!s&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(m)throw t}}return i}}(e,r)||function(e,r){if(e){if("string"==typeof e)return d(e,r);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?d(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n=l[0],c=l[1],b=c.loading,f=c.error;return t.createElement("div",{className:"rw-segment"},t.createElement("header",{className:"rw-segment-header"},t.createElement("h2",{className:"rw-heading rw-heading-secondary"},"New Booking")),t.createElement("div",{className:"rw-segment-main"},t.createElement(m.Z,{onSave:function(e){var r=Object.assign(e,{jubenId:parseInt(e.jubenId),timeSlotId:parseInt(e.timeSlotId),date:(0,u.Li)(e.date)});n({variables:{input:r}})},loading:b,error:f})))},v=function(){return t.createElement(f,null)}}}]);