"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[33],{94858:function(e,r,a){var l=a(27378),t=(a(76721),a(96085),a(74857)),n=a(74083),i=function(e){if(e)return e.replace(/:\d{2}\.\d{3}\w/,"")};r.Z=function(e){var r,a,o,s,u,m,d,c,b,w;return l.createElement("div",{className:"rw-form-wrapper"},l.createElement(t.Form,{onSubmit:function(r){var a,l,t;r.users&&r.users.length?r.users=null===(l=r.users)||void 0===l?void 0:l.map((function(e){return{id:parseInt(e)}})):delete r.users,r.bookings&&r.bookings.length?r.bookings=null===(t=r.bookings)||void 0===t?void 0:t.map((function(e){return{id:parseInt(e)}})):delete r.bookings,e.onSave(r,null==e||null===(a=e.jubenDrive)||void 0===a?void 0:a.id)},error:e.error},l.createElement(t.FormError,{error:e.error,wrapperClassName:"rw-form-error-wrapper",titleClassName:"rw-form-error-title",listClassName:"rw-form-error-list"}),l.createElement(t.Label,{name:"date",className:"rw-label",errorClassName:"rw-label rw-label-error"},"Date"),l.createElement(t.DatetimeLocalField,{name:"date",defaultValue:i(null===(r=e.jubenDrive)||void 0===r?void 0:r.date),className:"rw-input",errorClassName:"rw-input rw-input-error",validation:{required:!0}}),l.createElement(t.FieldError,{name:"date",className:"rw-field-error"}),l.createElement(t.Label,{name:"male",className:"rw-label",errorClassName:"rw-label rw-label-error"},"Male"),l.createElement(t.NumberField,{name:"male",defaultValue:null===(a=e.jubenDrive)||void 0===a?void 0:a.male,className:"rw-input",errorClassName:"rw-input rw-input-error",validation:{required:!0}}),l.createElement(t.FieldError,{name:"male",className:"rw-field-error"}),l.createElement(t.Label,{name:"female",className:"rw-label",errorClassName:"rw-label rw-label-error"},"Female"),l.createElement(t.NumberField,{name:"female",defaultValue:null===(o=e.jubenDrive)||void 0===o?void 0:o.female,className:"rw-input",errorClassName:"rw-input rw-input-error",validation:{required:!0}}),l.createElement(t.FieldError,{name:"female",className:"rw-field-error"}),l.createElement(t.Label,{name:"total",className:"rw-label",errorClassName:"rw-label rw-label-error"},"Total"),l.createElement(t.NumberField,{name:"total",defaultValue:null===(s=e.jubenDrive)||void 0===s?void 0:s.total,className:"rw-input",errorClassName:"rw-input rw-input-error",validation:{required:!0}}),l.createElement(t.FieldError,{name:"total",className:"rw-field-error"}),l.createElement(t.Label,{name:"status",className:"rw-label",errorClassName:"rw-label rw-label-error"},"Status"),l.createElement(t.TextField,{name:"status",defaultValue:null===(u=e.jubenDrive)||void 0===u?void 0:u.status,className:"rw-input",errorClassName:"rw-input rw-input-error",validation:{required:!0}}),l.createElement(t.FieldError,{name:"status",className:"rw-field-error"}),l.createElement(t.Label,{name:"jubenId",className:"rw-label",errorClassName:"rw-label rw-label-error"},"Juben id"),l.createElement(t.NumberField,{name:"jubenId",defaultValue:null===(m=e.jubenDrive)||void 0===m?void 0:m.jubenId,className:"rw-input",errorClassName:"rw-input rw-input-error",validation:{required:!0}}),l.createElement(t.FieldError,{name:"jubenId",className:"rw-field-error"}),l.createElement(t.Label,{name:"timeSlotId",className:"rw-label",errorClassName:"rw-label rw-label-error"},"Time slot id"),l.createElement(t.NumberField,{name:"timeSlotId",defaultValue:null===(d=e.jubenDrive)||void 0===d?void 0:d.timeSlotId,className:"rw-input",errorClassName:"rw-input rw-input-error",validation:{required:!0}}),l.createElement(t.FieldError,{name:"timeSlotId",className:"rw-field-error"}),l.createElement(t.Label,{name:"users",className:"rw-label",errorClassName:"rw-label rw-label-error"}),l.createElement(n.ZP,{data:null===(c=e.jubenDrive)||void 0===c?void 0:c.users,name:"users"}),l.createElement(t.FieldError,{name:"users",className:"rw-field-error"}),l.createElement(t.Label,{name:"bookings",className:"rw-label",errorClassName:"rw-label rw-label-error"}),l.createElement(t.SelectField,{name:"bookings","aria-readonly":!0,multiple:!0,className:"rw-input",errorClassName:"rw-input rw-input-error"},null===(b=e.jubenDrive)||void 0===b||null===(w=b.bookings)||void 0===w?void 0:w.map((function(e){return l.createElement("option",{key:e.id,value:e.id},e.male,"男 ",e.female,"女 ",e.note)}))),l.createElement(t.FieldError,{name:"bookings",className:"rw-field-error"}),l.createElement("div",{className:"rw-button-group"},l.createElement(t.Submit,{disabled:e.loading,className:"rw-button rw-button-blue"},"Save"))))}},53033:function(e,r,a){a.r(r),a.d(r,{default:function(){return v}});var l,t=a(27378),n=(a(95988),a(60740),a(27001)),i=a(56423),o=a(31786),s=a(81006),u=a(94858);function m(e,r){(null==r||r>e.length)&&(r=e.length);for(var a=0,l=new Array(r);a<r;a++)l[a]=e[a];return l}var d,c,b=(0,n.ZP)(l||(d=["\n  mutation CreateJubenDriveMutation($input: CreateJubenDriveInput!) {\n    createJubenDrive(input: $input) {\n      id\n    }\n  }\n"],c||(c=d.slice(0)),l=Object.freeze(Object.defineProperties(d,{raw:{value:Object.freeze(c)}})))),w=function(){var e,r,a=(0,o.useMutation)(b,{onCompleted:function(){s.toast.success("JubenDrive created"),(0,i.navigate)(i.routes.jubenDrives())},onError:function(e){s.toast.error(e.message)}}),l=(r=2,function(e){if(Array.isArray(e))return e}(e=a)||function(e,r){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var l,t,n,i,o=[],s=!0,u=!1;try{if(n=(a=a.call(e)).next,0===r){if(Object(a)!==a)return;s=!1}else for(;!(s=(l=n.call(a)).done)&&(o.push(l.value),o.length!==r);s=!0);}catch(e){u=!0,t=e}finally{try{if(!s&&null!=a.return&&(i=a.return(),Object(i)!==i))return}finally{if(u)throw t}}return o}}(e,r)||function(e,r){if(e){if("string"==typeof e)return m(e,r);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?m(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n=l[0],d=l[1],c=d.loading,w=d.error;return t.createElement("div",{className:"rw-segment"},t.createElement("header",{className:"rw-segment-header"},t.createElement("h2",{className:"rw-heading rw-heading-secondary"},"New JubenDrive")),t.createElement("div",{className:"rw-segment-main"},t.createElement(u.Z,{onSave:function(e){n({variables:{input:e}})},loading:c,error:w})))},v=function(){return t.createElement(w,null)}}}]);