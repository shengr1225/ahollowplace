"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[494],{21866:function(e,r,a){a(95988),a(60740),a(76721),a(96085),a(39393),a(96083),a(72254);var l,t=a(27001),n=a(27378),o=a(57253),i=a(95173),s=a(74857),m=a(73487),c=a(13839),u=a(74083),d=a(18808);function b(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var l,t,n,o,i=[],s=!0,m=!1;try{if(n=(a=a.call(e)).next,0===r){if(Object(a)!==a)return;s=!1}else for(;!(s=(l=n.call(a)).done)&&(i.push(l.value),i.length!==r);s=!0);}catch(e){m=!0,t=e}finally{try{if(!s&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(m)throw t}}return i}}(e,r)||function(e,r){if(e){if("string"==typeof e)return w(e,r);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?w(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,r){(null==r||r>e.length)&&(r=e.length);for(var a=0,l=new Array(r);a<r;a++)l[a]=e[a];return l}var p,f,v=(0,t.ZP)(l||(p=["\n  mutation deletePhoto($id: Int!, $index: Int!) {\n    deletePhotoOfJuben(id: $id, index: $index) {\n      id\n      photos\n    }\n  }\n"],f||(f=p.slice(0)),l=Object.freeze(Object.defineProperties(p,{raw:{value:Object.freeze(f)}}))));r.Z=function(e){var r,a,l,t,w,p,f,E,N,h,y,C,g,S,j,F=b((0,o.D)(v,{onCompleted:function(e){m.toast.success("photo deleted"),T(e.deletePhotoOfJuben.photos)},onError:function(e){m.toast.error(e.message)}}),1)[0],x=b((0,n.useState)(null==e||null===(r=e.juben)||void 0===r?void 0:r.image),2),O=x[0],k=x[1],A=b((0,n.useState)(null==e||null===(a=e.juben)||void 0===a?void 0:a.photos),2),L=A[0],T=A[1],I=b((0,n.useState)(!1),2),P=I[0],q=I[1];return n.createElement("div",{className:"rw-form-wrapper"},n.createElement(s.Form,{onSubmit:function(r){var a,l,t,n=Object.assign(r,{image:O,photos:L});n.mvps&&n.mvps.length?n.mvps=null===(l=n.mvps)||void 0===l?void 0:l.map((function(e){return{id:parseInt(e)}})):delete n.mvps,n.timeSlots&&(n.timeSlots=null===(t=n.timeSlots)||void 0===t?void 0:t.map((function(e){return{id:parseInt(e)}}))),e.onSave(n,null==e||null===(a=e.juben)||void 0===a?void 0:a.id)},error:e.error},n.createElement(s.FormError,{error:e.error,wrapperClassName:"rw-form-error-wrapper",titleClassName:"rw-form-error-title",listClassName:"rw-form-error-list"}),n.createElement(s.Label,{name:"name",className:"rw-label",errorClassName:"rw-label rw-label-error"},"Name"),n.createElement(s.TextField,{name:"name",defaultValue:null===(l=e.juben)||void 0===l?void 0:l.name,className:"rw-input",errorClassName:"rw-input rw-input-error",validation:{required:!0}}),n.createElement(s.FieldError,{name:"name",className:"rw-field-error"}),n.createElement(s.Label,{name:"timeSlots",className:"rw-label",errorClassName:"rw-label rw-label-error"},"Timeslots"),n.createElement(c.ZP,{name:"timeSlots",selectTimeSlots:null===(t=e.juben)||void 0===t?void 0:t.timeSlots,multiple:!0}),n.createElement(s.FieldError,{name:"timeSlots",className:"rw-field-error"}),n.createElement(s.Label,{name:"score",className:"rw-label",errorClassName:"rw-label rw-label-error"},"Score"),n.createElement(s.TextField,{name:"score",defaultValue:null===(w=e.juben)||void 0===w?void 0:w.score,className:"rw-input",errorClassName:"rw-input rw-input-error",validation:{valueAsNumber:!0}}),n.createElement(s.FieldError,{name:"score",className:"rw-field-error"}),n.createElement(s.Label,{name:"image",className:"rw-label",errorClassName:"rw-label rw-label-error"},"Image"),n.createElement(i.RT,{apikey:"Awq6Bed0LTDqiIXJJdcrmz",onSuccess:function(e){k(e.filesUploaded[0].url)}},n.createElement("div",{style:{display:O?"none":"block",height:"500px"}})),O&&n.createElement("img",{alt:null===(p=e.juben)||void 0===p?void 0:p.name,src:(0,d.x7)(O),style:{marginTop:"2rem"}}),n.createElement(s.FieldError,{name:"image",className:"rw-field-error"}),n.createElement(s.Label,{name:"image",className:"rw-label",errorClassName:"rw-label rw-label-error"},"Photos"),n.createElement(i.RT,{apikey:"Awq6Bed0LTDqiIXJJdcrmz",onSuccess:function(e){var r=L||"";e.filesUploaded.forEach((function(e){r&&(r+=","),r+=e.url})),T(r),q(!1)},pickerOptions:{maxFiles:10}},n.createElement("div",{style:{display:L&&!P?"none":"block",height:"100px"}})),n.createElement("div",{className:"flex"},L&&L.split(",").map((function(r,a){return n.createElement("div",{className:"mr-1",key:r},n.createElement("img",{alt:r,src:(0,d.jW)(r),style:{marginTop:"2rem"}}),n.createElement("button",{type:"button",onClick:function(){F({variables:{id:e.juben.id,index:a}})}},"Remove Image"))})),n.createElement("button",{type:"button",onClick:function(){q(!0)}},"Add Photos")),n.createElement(s.FieldError,{name:"image",className:"rw-field-error"}),n.createElement(s.Label,{name:"desc",className:"rw-label",errorClassName:"rw-label rw-label-error"},"Desc"),n.createElement(s.TextField,{name:"desc",defaultValue:null===(f=e.juben)||void 0===f?void 0:f.desc,className:"rw-input",errorClassName:"rw-input rw-input-error",validation:{required:!0}}),n.createElement(s.FieldError,{name:"desc",className:"rw-field-error"}),n.createElement(s.Label,{name:"section",className:"rw-label",errorClassName:"rw-label rw-label-error"},"Section"),n.createElement(s.TextField,{name:"section",defaultValue:null===(E=e.juben)||void 0===E?void 0:E.section,className:"rw-input",errorClassName:"rw-input rw-input-error",validation:{required:!0}}),n.createElement(s.FieldError,{name:"section",className:"rw-field-error"}),n.createElement(s.Label,{name:"sections",className:"rw-label",errorClassName:"rw-label rw-label-error"},"Sections"),n.createElement(s.TextField,{name:"sections",defaultValue:null===(N=e.juben)||void 0===N?void 0:N.sections,className:"rw-input",errorClassName:"rw-input rw-input-error",validation:{required:!0}}),n.createElement(s.FieldError,{name:"sections",className:"rw-field-error"}),n.createElement(s.Label,{name:"players",className:"rw-label",errorClassName:"rw-label rw-label-error"},"Players"),n.createElement(s.TextField,{name:"players",defaultValue:null===(h=e.juben)||void 0===h?void 0:h.players,className:"rw-input",errorClassName:"rw-input rw-input-error",validation:{required:!0}}),n.createElement(s.FieldError,{name:"players",className:"rw-field-error"}),n.createElement(s.Label,{name:"canSwitchSex",className:"rw-label",errorClassName:"rw-label rw-label-error"},"Can switch sex"),n.createElement(s.CheckboxField,{name:"canSwitchSex",defaultChecked:null===(y=e.juben)||void 0===y?void 0:y.canSwitchSex,className:"rw-input",errorClassName:"rw-input rw-input-error"}),n.createElement(s.FieldError,{name:"canSwitchSex",className:"rw-field-error"}),n.createElement(s.Label,{name:"duration",className:"rw-label",errorClassName:"rw-label rw-label-error"},"Duration"),n.createElement(s.NumberField,{name:"duration",defaultValue:null===(C=e.juben)||void 0===C?void 0:C.duration,className:"rw-input",errorClassName:"rw-input rw-input-error",validation:{required:!0}}),n.createElement(s.FieldError,{name:"duration",className:"rw-field-error"}),n.createElement(s.Label,{name:"price",className:"rw-label",errorClassName:"rw-label rw-label-error"},"Price"),n.createElement(s.NumberField,{name:"price",defaultValue:null===(g=e.juben)||void 0===g?void 0:g.price,className:"rw-input",errorClassName:"rw-input rw-input-error",validation:{required:!0}}),n.createElement(s.FieldError,{name:"price",className:"rw-field-error"}),n.createElement(s.Label,{name:"available",className:"rw-label",errorClassName:"rw-label rw-label-error"}),n.createElement(s.CheckboxField,{name:"available",defaultChecked:null===(S=e.juben)||void 0===S?void 0:S.available,className:"rw-input",errorClassName:"rw-input rw-input-error"}),n.createElement(s.FieldError,{name:"available",className:"rw-field-error"}),n.createElement(s.Label,{name:"mvps",className:"rw-label",errorClassName:"rw-label rw-label-error"}),n.createElement(u.ZP,{data:null===(j=e.juben)||void 0===j?void 0:j.mvps,name:"mvps"}),n.createElement(s.FieldError,{name:"mvps",className:"rw-field-error"}),n.createElement("div",{className:"rw-button-group"},n.createElement(s.Submit,{disabled:e.loading,className:"rw-button rw-button-blue"},"Save"))))}},89494:function(e,r,a){a.r(r),a.d(r,{default:function(){return p}});var l,t=a(27378),n=(a(95988),a(60740),a(27001)),o=a(56423),i=a(31786),s=a(81006),m=a(21866);function c(e,r){(null==r||r>e.length)&&(r=e.length);for(var a=0,l=new Array(r);a<r;a++)l[a]=e[a];return l}var u,d,b=(0,n.ZP)(l||(u=["\n  mutation CreateJubenMutation($input: CreateJubenInput!) {\n    createJuben(input: $input) {\n      id\n    }\n  }\n"],d||(d=u.slice(0)),l=Object.freeze(Object.defineProperties(u,{raw:{value:Object.freeze(d)}})))),w=function(){var e,r,a=(0,i.useMutation)(b,{onCompleted:function(){s.toast.success("Juben created"),(0,o.navigate)(o.routes.jubens())},onError:function(e){s.toast.error(e.message)}}),l=(r=2,function(e){if(Array.isArray(e))return e}(e=a)||function(e,r){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var l,t,n,o,i=[],s=!0,m=!1;try{if(n=(a=a.call(e)).next,0===r){if(Object(a)!==a)return;s=!1}else for(;!(s=(l=n.call(a)).done)&&(i.push(l.value),i.length!==r);s=!0);}catch(e){m=!0,t=e}finally{try{if(!s&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(m)throw t}}return i}}(e,r)||function(e,r){if(e){if("string"==typeof e)return c(e,r);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?c(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n=l[0],u=l[1],d=u.loading,w=u.error;return t.createElement("div",{className:"rw-segment"},t.createElement("header",{className:"rw-segment-header"},t.createElement("h2",{className:"rw-heading rw-heading-secondary"},"New Juben")),t.createElement("div",{className:"rw-segment-main"},t.createElement(m.Z,{onSave:function(e){n({variables:{input:e}})},loading:d,error:w})))},p=function(){return t.createElement(w,null)}}}]);